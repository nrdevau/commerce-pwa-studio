{"version":3,"file":"component---src-pages-tutorials-production-deployment-adobe-commerce-index-md-182ea5891f108dd1a406.js","mappings":"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","sources":["webpack://commerce-pwa-studio/./src/pages/tutorials/production-deployment/adobe-commerce/index.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-pwa-studio/commerce-pwa-studio/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"deploy-to-adobe-commerce\"\n    }}>{`Deploy to Adobe Commerce`}</h1>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://devdocs.magento.com/cloud/bk-cloud.html\"\n      }}>{`Adobe Commerce`}</a>{` provides a managed and automated hosting platform for its commerce software in the Cloud.\nYou can use this platform to host your storefront code by installing packages developed specifically to connect your storefront with Adobe Commerce software on the same server.`}</p>\n    <h2 {...{\n      \"id\": \"overview\"\n    }}>{`Overview`}</h2>\n    <p>{`This tutorial provides the general steps for setting your storefront as the front end for the Adobe Commerce application in the Cloud.\nBy the end of this tutorial, you will have a Cloud project setup that includes your storefront project's code bundles.\nYou can use this setup to update and deploy your storefront project in the Cloud for Adobe Commerce.`}</p>\n    <h2 {...{\n      \"id\": \"prerequisites\"\n    }}>{`Prerequisites`}</h2>\n    <p>{`Before you follow this tutorial, you should be familiar with Cloud's `}<a parentName=\"p\" {...{\n        \"href\": \"https://devdocs.magento.com/cloud/architecture/starter-develop-deploy-workflow.html\"\n      }}>{`Starter workflow`}</a>{` or `}<a parentName=\"p\" {...{\n        \"href\": \"https://devdocs.magento.com/cloud/architecture/pro-develop-deploy-workflow.html\"\n      }}>{`Pro workflow`}</a>{` depending on your plan.\nMake sure you complete the `}<a parentName=\"p\" {...{\n        \"href\": \"https://devdocs.magento.com/cloud/onboarding/onboarding-tasks.html\"\n      }}>{`Cloud onboarding tasks`}</a>{` to avoid account or access issues.`}</p>\n    <p>{`Verify that your Adobe Commerce instance is `}<a parentName=\"p\" {...{\n        \"href\": \"/commerce-pwa-studio/integrations/adobe-commerce/version-compatibility/\"\n      }}>{`compatible`}</a>{` with the PWA Studio version you use in your storefront project.`}</p>\n    <p>{`This tutorial requires the following tools:`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://devdocs.magento.com/cloud/reference/cli-ref-topic.html\"\n        }}>{`Adobe Commerce CLI`}</a></li>\n      <li parentName=\"ul\">{`Git`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://getcomposer.org/\"\n        }}>{`Composer`}</a></li>\n      <li parentName=\"ul\">{`Yarn or NPM (depends on your storefront project configuration)`}</li>\n    </ul>\n    <p>{`If you need to do more advanced Cloud tasks, see the `}<a parentName=\"p\" {...{\n        \"href\": \"https://devdocs.magento.com/cloud/requirements/cloud-requirements.html\"\n      }}>{`Cloud technologies and requirements`}</a>{` for the full list of tools you need to fully manage the rest of your Cloud project.`}</p>\n    <p>{`You also need an existing storefront project to do this tutorial.\nFollow the instructions on the `}<a parentName=\"p\" {...{\n        \"href\": \"/commerce-pwa-studio/tutorials/setup-storefront/\"\n      }}>{`Project setup`}</a>{` page to set up your storefront project using the scaffolding tool.`}</p>\n    <h2 {...{\n      \"id\": \"tasks-overview\"\n    }}>{`Tasks overview`}</h2>\n    <ol>\n      <li parentName=\"ol\">{`Clone your Cloud project`}</li>\n      <li parentName=\"ol\">{`Add required Adobe Commerce extensions`}</li>\n      <li parentName=\"ol\">{`Set environment variables`}</li>\n      <li parentName=\"ol\">{`Build your storefront application`}</li>\n      <li parentName=\"ol\">{`Add your storefront project code`}</li>\n      <li parentName=\"ol\">{`Deploy changes`}</li>\n    </ol>\n    <h2 {...{\n      \"id\": \"clone-your-cloud-project\"\n    }}>{`Clone your Cloud project`}</h2>\n    <p>{`Use the Magento Cloud CLI tool to login and clone your Cloud project.`}</p>\n    <p>{`Run the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`magento-cloud\n`}</code></pre>\n    <p>{`If this is your first time running this command, the tool takes you through the login process.\nAfter you login or when you run this command again, it presents a table of all the projects you have permission to access.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`Your projects are:\n+---------------+------------------+---------------------------------------------------+\n| ID            | Title            | URL                                               |\n+---------------+------------------+---------------------------------------------------+\n| yswqmrbknvqjz | My Web Store     | https://us-4.magento.cloud/projects/yswqmrbknvqjz |\n+---------------+------------------+---------------------------------------------------+\n`}</code></pre>\n    <p>{`Find the Cloud project you want to add your storefront to and use the Magento Cloud CLI to clone the project by specifying its ID.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`magento-cloud get yswqmrbknvqjz\n`}</code></pre>\n    <p>{`This command creates a project directory and initializes the Git repository associated with your Cloud project.\nDepending on your access permissions for the default environment, this directory may appear empty.`}</p>\n    <p>{`Navigate to the project directory and use the Magento Cloud CLI to list the environments for this project.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`magento-cloud environment:list\n`}</code></pre>\n    <p>{`This command displays a table of environments which lists their ID, Title, and Status.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`Your environments are:\n+----------------------+----------------------+-------------+\n| ID                   | Title                | Status      |\n+----------------------+----------------------+-------------+\n| production*          | Production           | Active      |\n| staging              | Staging              | Active      |\n| myStorefront-develop | myStorefront-develop | In progress |\n|    myStorefront-cicd | myStorefront-cicd    | Active      |\n+----------------------+----------------------+-------------+\n* - Indicates the current environment\n`}</code></pre>\n    <p>{`Use the Adobe Commerce CLI to checkout the environment where you want to add your storefront code, such as the `}<inlineCode parentName=\"p\">{`staging`}</inlineCode>{` environment.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`magento-cloud checkout staging\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"add-required-adobe-commerce-extensions\"\n    }}>{`Add required Adobe Commerce extensions`}</h2>\n    <p>{`Adobe Commerce in the Cloud does not support node processes, so you cannot use UPWARD-JS to serve your storefront project.\nYou must use the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2-upward-connector\"\n      }}>{`magento2-upward-connector`}</a>{` module with `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/upward-php\"\n      }}>{`UPWARD-PHP`}</a>{` to deploy your storefront to the Cloud.`}</p>\n    <p>{`First, use the `}<inlineCode parentName=\"p\">{`composer`}</inlineCode>{` CLI command to add the `}<inlineCode parentName=\"p\">{`magento2-upward-connector`}</inlineCode>{` module to the Adobe Commerce installation:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`composer require magento/module-upward-connector\n`}</code></pre>\n    <p>{`This command modifies the `}<inlineCode parentName=\"p\">{`composer.json`}</inlineCode>{` file and adds the package entry to the `}<inlineCode parentName=\"p\">{`require`}</inlineCode>{` section of the `}<inlineCode parentName=\"p\">{`composer.json`}</inlineCode>{` file.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-text\"\n      }}>{`\"magento/module-upward-connector\": \"^1.1.2\"\n`}</code></pre>\n    <InlineAlert variant=\"info\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`UPWARD-PHP is a dependency of the magento2-upward-connector, so\nyou do not need to add it manually to your project.`}</p>\n    <p>{`Second, add the required PWA modules.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`composer require magento/pwa\ncomposer require magento/pwa-commerce\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"set-environment-variables\"\n    }}>{`Set environment variables`}</h2>\n    <p>{`PWA Studio storefronts require you to set specific `}<a parentName=\"p\" {...{\n        \"href\": \"/commerce-pwa-studio/api/buildpack/environment/variables/\"\n      }}>{`environment variables`}</a>{` in your project for the build and runtime processes.`}</p>\n    <h3 {...{\n      \"id\": \"runtime-variables\"\n    }}>{`Runtime variables`}</h3>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Name`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`CONFIG__DEFAULT__WEB__UPWARD__PATH`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Absolute path to UPWARD YAML configuration`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`NODE_ENV`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Specifies the node environment type`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`MAGENTO_BACKEND_URL`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`URL of your Adobe Commerce backend`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`To set your Cloud project's runtime variables, edit the `}<a parentName=\"p\" {...{\n        \"href\": \"https://devdocs.magento.com/cloud/project/magento-env-yaml.html\"\n      }}><inlineCode parentName=\"a\">{`.magento.app.yaml`}</inlineCode></a>{` file and add entries to the `}<inlineCode parentName=\"p\">{`variables.env`}</inlineCode>{` section.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-text\"\n      }}>{`variables:\n    env:\n        CONFIG__DEFAULT__WEB__UPWARD__PATH: \"/app/pmu35riuj7btw_stg/pwa/upward.yml\"\n        NODE_ENV: \"production\"\n        MAGENTO_BACKEND_URL: \"https://[your-cloud-url-here]/\"\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"buildtime-variables\"\n    }}>{`Buildtime variables`}</h3>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Name`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`NODE_ENV`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Specifies the node environment type`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`MAGENTO_BACKEND_URL`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`URL of your Adobe Commerce backend`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`CHECKOUT_BRAINTREE_TOKEN`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Braintree token associated with your Adobe Commerce backend`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`MAGENTO_BACKEND_EDITION`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Must be `}<inlineCode parentName=\"td\">{`EE`}</inlineCode>{` when deploying to Adobe Commerce in the Cloud`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`IMAGE_OPTIMIZING_ORIGIN`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Origin to use for images in the UI`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`To set your environment variables for buildtime, navigate or open a new terminal to `}<em parentName=\"p\">{`your storefront project`}</em>{` and edit the `}<inlineCode parentName=\"p\">{`.env`}</inlineCode>{` file.\nYour `}<inlineCode parentName=\"p\">{`.env`}</inlineCode>{` file should have entries that look like the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-text\"\n      }}>{`NODE_ENV=production\nMAGENTO_BACKEND_URL=https://[your-cloud-url-here]/\nCHECKOUT_BRAINTREE_TOKEN=<generated token from Braintree>\nMAGENTO_BACKEND_EDITION=EE\nIMAGE_OPTIMIZING_ORIGIN=backend\nENABLE_EXPRESS_SERVER_COMPRESSION=false\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"finding-the-correct-upward-path-value\"\n    }}>{`Finding the correct UPWARD path value`}</h3>\n    <p>{`The `}<inlineCode parentName=\"p\">{`CONFIG_DEFAULT_WEB_UPWARD_PATH`}</inlineCode>{` variable specifies the `}<em parentName=\"p\">{`absolute`}</em>{` path to the UPWARD configuration file in the deployed Cloud instance.\nIf this value is incorrect or not set, the connector extension cannot serve your storefront application and your frontend appears broken.`}</p>\n    <p>{`In the previous example, `}<inlineCode parentName=\"p\">{`/app/pmu35riuj7btw_stg/`}</inlineCode>{` is the Adobe Commerce application's root directory on the deployed instance.\nThis value is different for each environment in your Cloud project, so you must configure each of your project environments with the path specific to each instance.\nTo find the correct root directory path for an environment, `}<a parentName=\"p\" {...{\n        \"href\": \"https://devdocs.magento.com/cloud/env/environments-ssh.html\"\n      }}>{`SSH`}</a>{` into the remote server and use the `}<inlineCode parentName=\"p\">{`pwd`}</inlineCode>{` command to find the Magento application root directory.`}</p>\n    <h2 {...{\n      \"id\": \"build-your-storefront-application\"\n    }}>{`Build your storefront application`}</h2>\n    <p>{`In `}<em parentName=\"p\">{`your storefront project`}</em>{` directory, use `}<inlineCode parentName=\"p\">{`yarn`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`npm`}</inlineCode>{` to install project dependencies and run the project's build command.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`yarn install &&\nyarn build\n`}</code></pre>\n    <p>{`These commands install project dependencies and runs the build process, which creates a `}<inlineCode parentName=\"p\">{`dist`}</inlineCode>{` folder that contains code bundles for your storefront application.\nIt also copies over the static assets your application needs from your project into this folder.`}</p>\n    <h2 {...{\n      \"id\": \"add-your-storefront-project-code\"\n    }}>{`Add your storefront project code`}</h2>\n    <p><em parentName=\"p\">{`In your Cloud project`}</em>{`, create a `}<inlineCode parentName=\"p\">{`pwa`}</inlineCode>{` folder and copy into it the content inside your storefront project's `}<inlineCode parentName=\"p\">{`dist`}</inlineCode>{` folder.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`mkdir pwa && cp -r <path to your storefront project>/dist/* pwa\n`}</code></pre>\n    <p>{`If you are updating your existing storefront code, you must delete the content inside the `}<inlineCode parentName=\"p\">{`pwa`}</inlineCode>{` directory before you copy the new `}<inlineCode parentName=\"p\">{`dist`}</inlineCode>{` content to avoid keeping the old bundles the application no longer uses.`}</p>\n    <h2 {...{\n      \"id\": \"deploy-changes\"\n    }}>{`Deploy changes`}</h2>\n    <p>{`At this point in the tutorial, your Cloud project should have changes in the following files and directories:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`.magento.app.yaml`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`composer.json`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`composer.lock`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`pwa`}</inlineCode></li>\n    </ul>\n    <p>{`Edit your Cloud project's `}<inlineCode parentName=\"p\">{`.gitignore`}</inlineCode>{` file and add the following entries to track the `}<inlineCode parentName=\"p\">{`pwa`}</inlineCode>{` directory in git:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-text\"\n      }}>{`!/pwa\n!/pwa/**\n`}</code></pre>\n    <p>{`Use the Git CLI tool to stage, commit, and push these changes to your Cloud project.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`git add . &&\ngit commit -m \"Added storefront file bundles\" &&\ngit push origin\n`}</code></pre>\n    <p>{`After you push changes to your Cloud project, the remote build process runs and deploys a live instance of your site to the Cloud service.`}</p>\n    <h3 {...{\n      \"id\": \"merging-environments\"\n    }}>{`Merging environments`}</h3>\n    <p>{`The Cloud topic on how to `}<a parentName=\"p\" {...{\n        \"href\": \"https://devdocs.magento.com/cloud/live/stage-prod-live.html\"\n      }}>{`Deploy your store`}</a>{` provides more details on the deployment process.\nIt also includes instructions for merging environment branches, such as integration to staging or staging to production.`}</p>\n    <p>{`If your workflow involves merging environment branches,\nyou must rebuild your application bundle with the correct environment variables before you push your changes to the Cloud service because\nvariables, such as `}<inlineCode parentName=\"p\">{`CONFIG__DEFAULT__WEB__UPWARD__PATH`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`MAGENTO_BACKEND_URL`}</inlineCode>{`, can vary between these environments.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["name","_frontmatter","InlineAlert","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","variant","slots","isMDXComponent"],"sourceRoot":""}